<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aitbaar - Annotated Lyrics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-dark: #000000;
            --surface-color: #201A28; 
            --text-primary: #e2e2e2;
            --text-secondary: #888888;
            --border-color: #3a2a4a; 
            --album-identity-color: #9333ea; 
            --hover-accent-color: rgba(147, 51, 234, 0.15); 
            --icon-color-light-purple: #b298dc; 
        }
        body {
            font-family: 'Lora', serif;
            background-color: var(--background-dark);
            color: var(--text-primary);
        }
        html { scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--background-dark); }
        ::-webkit-scrollbar-thumb { background-color: #581c87; border-radius: 8px; border: 2px solid var(--background-dark); }
        .main-container { max-width: 768px; }
        .lyrics-header h1 {
            font-family: 'Playfair Display', serif;
            color: var(--album-identity-color);
        }
        .lyrics-line {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: background-color 0.2s ease, color 0.2s ease;
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .lyrics-line:hover {
            background-color: var(--hover-accent-color);
            color: var(--text-primary);
        }
        .lyrics-line.active {
            background-color: var(--album-identity-color);
            color: #fff;
            font-weight: 600;
        }
        .verse-title {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 3rem;
            margin-bottom: 1rem;
        }
        #annotation-panel {
            background-color: var(--surface-color);
            border-left: 1px solid var(--border-color);
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            max-width: 550px;
            height: 100vh;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease;
            z-index: 50;
            font-family: 'Inter', sans-serif;
        }
        #annotation-panel.visible {
            transform: translateX(0);
            opacity: 1;
        }
        /* #panel-header-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary-accent-color);
        } */
        .annotation-content {
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--text-primary);
        }
        .source-lyric {
            background-color: var(--album-identity-color);
            color: #fff;
            font-weight: 600;
        }
        
        .close-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background-color: transparent;
            color: var(--icon-color-light-purple);
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .close-button:hover {
            background-color: var(--album-identity-color);
            color: #fff;
        }
        .close-button svg {
            width: 1rem;
            height: 1rem;
        }
        
        .back-button {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            background-color: rgba(32, 26, 40, 0.7);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: var(--icon-color-light-purple);
            transition: all 0.2s ease;
            border: 1px solid var(--border-color);
        }
        .back-button:hover {
            background-color: var(--album-identity-color);
            color: #fff;
            transform: scale(1.05);
        }
        .back-button svg {
            width: 1.5rem;
            height: 1.5rem;
        }

        .about-button-expand {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            height: 2.5rem;
            padding: 0 0.75rem;
            border-radius: 999px;
            background-color: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
        }
        .about-button-text {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            width: 0;
            transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.2s ease;
        }
        .about-button-expand:hover {
            background-color: var(--surface-color);
            color: var(--text-primary);
            border-color: var(--primary-accent-color);
        }
        .about-button-expand:hover .about-button-text {
            width: 50px;
            opacity: 1;
        }

        @media (max-width: 768px) {
            .lyrics-line { font-size: 1rem; line-height: 1.7; }
            #annotation-panel {
                top: auto;
                bottom: 0;
                width: 100%;
                max-width: 100%;
                height: 60vh;
                transform: translateY(100%);
                border-left: none;
                border-top: 1px solid var(--border-color);
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
            }
            #annotation-panel.visible { transform: translateY(0); }
            .back-button { top: 1rem; left: 1rem; width: 2.5rem; height: 2.5rem; }
            .back-button svg { width: 1.25rem; height: 1.25rem; }
        }
    </style>
</head>
<body class="">
    <a href="index.html" class="back-button" aria-label="Back to main page">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
    </a>
        
    <div class="main-container px-6 py-12 md:px-12 md:py-24">
        <header class="lyrics-header mb-12">
            <div class="flex items-center gap-4">
                <h1 class="text-5xl md:text-6xl font-bold mb-0">aitbaar</h1>
                <button id="about-song-button" class="about-button-expand" aria-label="About this song">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                    </svg>
                    <span class="about-button-text">About</span>
                </button>
            </div>
            <h2 class="text-xl text-gray-400 mt-2">Annotated Lyrics</h2>
        </header>

        <section id="lyrics-content">
            <h3 class="verse-title">Verse 1</h3>
            <div id="lyrics-v1" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="v1-group-1">lagda gal ve jdon lagda pata menu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-1">mere ton pata ni menu kdon ton khafa ve tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-2">kosda naseeb mera takkda sama</p>
                <p class="lyrics-line" data-annotation-id="v1-group-3">menu karke zaleel ohnu dassda mazaak ve tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-4">mai vi hass painda mere agge ik jwaak aein tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-5">dand heen je funkaare naag tan oo naag hain tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-6">ang heen laash jihde palle ik zbaan aein tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-7">dhakke naal chudi kisi naar da ve bhaag aein tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-8">9 saal pehla tak siga mera bhra ve tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-9">9 saal baad aj mannda na yaar menu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-10">kehenda nhio muh te par akhanâ€™ch dikhe saaf menu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-11">ihni baitha kiven kathi kari khoure khaar ve tu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-12">eerkha ni changi kise vale dayu eh saarh tenu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-13">par sach josh add dindi takraar menu</p>
                <p class="lyrics-line" data-annotation-id="v1-group-14">labhke ve mauka khanjar naal pith faarh deni</p>
                <p class="lyrics-line" data-annotation-id="v1-group-15">aj nhi tan kal karna paina satkaar tenu</p>
            </div>
            
            <h3 class="verse-title">HOOK</h3>
            <div id="lyrics-hook-1" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="hook-group-1">mera rakhin aitbaar na</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">Kaushal bhora bhaale tera pyaar na</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">jhukheya shikhaari vela labh maru chaal</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">mittiâ€™ch milaadu raakh rakhi gal meri yaad aa</p>
            </div>

            <h3 class="verse-title">Verse 2</h3>
            <div id="lyrics-v2" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="v2-group-1">shishee murhe kharhde nu howe ehsaas aa</p>
                <p class="lyrics-line" data-annotation-id="v2-group-1">dujeeyaan di siftan aayiyan si kehra raas gahan</p>
                <p class="lyrics-line" data-annotation-id="v2-group-2">eerkha seeneâ€™ch bhar kare intzaar jehra</p>
                <p class="lyrics-line" data-annotation-id="v2-group-2">badle di rakh ke dilâ€™ch tu ve aas sada</p>
                <p class="lyrics-line" data-annotation-id="v2-group-3">khaar di bimaari thoda tenu vi sataawe</p>
                <p class="lyrics-line" data-annotation-id="v2-group-4">heenh bhaav rakh jdon beli seene naal laawein</p>
                <p class="lyrics-line" data-annotation-id="v2-group-5">nle rosh de nasheâ€™ch jdon kalam chalaawein</p>
                <p class="lyrics-line" data-annotation-id="v2-group-5">kurhattan da zeher ehna geetanâ€™ch handaawein</p>
                <p class="lyrics-line" data-annotation-id="v2-group-6">aalas de challlde ve zindagi vigaarhe</p>
                <p class="lyrics-line" data-annotation-id="v2-group-6">hath aaye maukkeyan nu sala palâ€™ch gwaawe</p>
                <p class="lyrics-line" data-annotation-id="v2-group-7">dar ke jwaani jinda aa naseeb da sahaare</p>
                <p class="lyrics-line" data-annotation-id="v2-group-7">dujeyan ton pehredaari kaun khud ton bachaawein</p>
                <p class="lyrics-line" data-annotation-id="v2-group-8">jo tu dinda sansaar nu oo murh tenu aawe</p>
                <p class="lyrics-line" data-annotation-id="v2-group-9">pura sagar neki da boond paapâ€™ch smaaje</p>
                <p class="lyrics-line" data-annotation-id="v2-group-10">sach nu talaash pakh paath nu gwaake</p>
                <p class="lyrics-line" data-annotation-id="v2-group-11">tere badle di chaah tenu aap nu na khaaje</p>
            </div>
            
            <h3 class="verse-title">HOOK</h3>
            <div id="lyrics-hook-2" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="hook-group-2">mera rakhin aitbaar na</p>
                <p class="lyrics-line" data-annotation-id="hook-group-2">Kaushal bhora bhaale tera pyaar na</p>
                <p class="lyrics-line" data-annotation-id="hook-group-2">jhukheya shikhaari vela labh maru chaal</p>
                <p class="lyrics-line" data-annotation-id="hook-group-2">mittiâ€™ch milaadu raakh rakhi gal meri yaad aa</p>
            </div>
        </section>
    </div>

    <aside id="annotation-panel" class="flex flex-col">
        <header class="p-4 border-b flex items-center justify-between" style="border-color: var(--border-color);">
            <div id="panel-header-content" class="flex-grow mr-4">
            </div>
            <button id="close-annotation" class="close-button flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </header>
        <div id="annotation-content-area" class="annotation-content">
        </div>
    </aside>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
             const annotations = { "v1-group-1": "Anshul feels a hidden anger from a loved one, revealing a long-standing resentment under a facade of intimacy. This sets a tone of emotional dissonance.", "v1-group-2": "The person he's speaking to resents his success, showing deep envy and bitterness.", "v1-group-3": "This person humiliates him but then dismisses it as a joke, invalidating Anshul's pain.", "v1-group-4": "Anshul responds by laughing, viewing the person as an immature 'child,' asserting his emotional control.", "v1-group-5": "He likens them to a 'toothless snake,' implying they have malicious intent but lack the power to actually harm him.", "v1-group-6": "He further diminishes them as a 'limbless corpse whose only possession is a tongue,' suggesting their words are meaningless without action.", "v1-group-7": "In a harsh and provocative insult, he calls them an unwelcome and devastating misfortune.", "v1-group-8": "He reveals a deep personal history: this person was once as close as a 'brother' nine years ago.", "v1-group-9": "Today, that person won't even acknowledge Anshul as a friend, highlighting the tragic breakdown of their relationship.", "v1-group-10": "Anshul sees a hidden animosity in their eyes, showing he can detect their deceit despite their words.", "v1-group-11": "He questions how they have accumulated so much 'bitterness,' suggesting they are trapped by their own toxic emotions.", "v1-group-12": "He warns them that their envy is a self-destructive force that will eventually 'burn' them.", "v1-group-13": "He finds a defiant strength in confrontation, which 'adds energy' to him rather than discouraging him.", "v1-group-14": "He expresses a patient and vengeful intent, promising to inflict a deep, hidden wound in retaliation for their betrayal.", "v1-group-15": "He shifts from retaliation to a prophecy of triumph, declaring that a day will come when this person is forced to 'respect' him.", "hook-group-1": "Anshul defiantly tells the person not to trust him and unleashes a vengeful metaphor of a 'bowed hunter' who will eventually make a 'killing move' and turn them to ashes. This is his final, defiant threat.", "v2-group-1": "Anshul confronts himself in the mirror, realizing that external praise never truly brought him happiness, revealing a deep-seated insecurity.", "v2-group-2": "He admits that he also harbors envy and a desire for revenge, showing he's not just a victim but is struggling with his own toxic emotions.", "v2-group-3": "He confesses that the 'sickness of bitterness' also troubles him, acknowledging that he is a prisoner of his own internal turmoil.", "v2-group-4": "He reveals that his inner bitterness affects his relationships, as he harbors negative emotions even when hugging a friend.", "v2-group-5": "He uses his songwriting to process his 'anger' and 'bitterness,' consuming this emotional poison and transforming it into his art.", "v2-group-6": "He confesses to a self-destructive pattern: out of 'laziness,' he ruins his life and wastes opportunities.", "v2-group-7": "He lives his youth in 'fear,' relying on fate while guarding himself from others, but questions who will save him from his self-sabotaging nature.", "v2-group-8": "He acknowledges the principle of karma, that the negativity he gives to the world will return to him.", "v2-group-9": "He uses a metaphor to explain that even a 'drop of sin' can corrupt an 'ocean of goodness,' showing how easily his positive qualities can be ruined by negative emotions.", "v2-group-10": "He urges himself to find 'truth' by abandoning bias and emotional grudges, suggesting it's a crucial step to escape his emotional prison.", "v2-group-11": "He issues a self-warning: his 'desire for revenge' could end up consuming him entirely, highlighting the self-destructive nature of his anger.", "hook-group-2": "This hook is Anshul's concise self-warning. He cautions against his own internal toxicity, a self-destructive vengeful side that will ultimately lead to his own ruin." };
            
            const aboutSongButton = document.getElementById('about-song-button');
            const lyricsLines = document.querySelectorAll('.lyrics-line');
            const annotationPanel = document.getElementById('annotation-panel');
            const panelHeaderContent = document.getElementById('panel-header-content');
            const annotationContentArea = document.getElementById('annotation-content-area');
            const closeButton = document.getElementById('close-annotation');
            let activeAnnotationId = null;
            let currentPanelState = null;

            const aboutSongText = `
                <p class="mb-4">"Don't trust me." With that warning, "aitbaar" plunges you into the mind of a "bowed hunter" patiently waiting for the perfect moment to strike. The track is a lesson in calculated revenge, a slow burn of resentment against an enemy whose envy has poisoned a brotherhood. But listen closely to the hunter's footsteps. He's stalking a shadow, and as the song unfolds, you begin to question who the true target is. The most dangerous predators are the ones who hunt themselves.</p>
            `;

            function showAboutContent() {
                panelHeaderContent.innerHTML = `<h2 id="panel-header-title">About 'aitbaar'</h2>`;
                annotationContentArea.innerHTML = `<div class="p-6">${aboutSongText}</div>`;
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                    activeAnnotationId = null;
                }
                currentPanelState = 'about';
                annotationPanel.classList.add('visible');
            }

            function showAnnotationContent(lineElement) {
                const annotationId = lineElement.getAttribute('data-annotation-id');
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                }
                document.querySelectorAll(`[data-annotation-id='${annotationId}']`).forEach(el => el.classList.add('active'));
                activeAnnotationId = annotationId;

                const annotationText = annotations[annotationId] || "No annotation for this line.";
                const groupElements = lineElement.parentElement.querySelectorAll(`[data-annotation-id='${annotationId}']`);
                const sourceText = Array.from(groupElements).map(el => el.innerHTML).join('<br>');

                panelHeaderContent.innerHTML = `<p class="source-lyric p-3 rounded-lg text-sm">${sourceText}</p>`;
                annotationContentArea.innerHTML = `<div class="p-6">${annotationText}</div>`;
                currentPanelState = 'annotation';
                annotationPanel.classList.add('visible');
            }

            function closeAnnotationPanel() {
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                    activeAnnotationId = null;
                }
                annotationPanel.classList.remove('visible');
                currentPanelState = null;
            }

            aboutSongButton.addEventListener('click', (e) => {
                e.stopPropagation();
                if (annotationPanel.classList.contains('visible') && currentPanelState === 'about') {
                    closeAnnotationPanel();
                } else {
                    showAboutContent();
                }
            });

            lyricsLines.forEach(line => {
                line.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const clickedAnnotationId = line.getAttribute('data-annotation-id');
                    if (clickedAnnotationId === activeAnnotationId) {
                        closeAnnotationPanel();
                    } else {
                        showAnnotationContent(line);
                    }
                });
            });

            closeButton.addEventListener('click', (e) => {
                e.stopPropagation();
                closeAnnotationPanel();
            });

            document.body.addEventListener('click', (e) => {
                if (annotationPanel.classList.contains('visible') && !annotationPanel.contains(e.target) && !aboutSongButton.contains(e.target)) {
                    closeAnnotationPanel();
                }
            });
        });
    </script>
</body>
</html>
