<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confused - Annotated Lyrics</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --background-dark: #000000;
            --surface-color: #201A28; 
            --text-primary: #e2e2e2;
            --text-secondary: #888888;
            --border-color: #3a2a4a; 
            --album-identity-color: #9333ea; 
            --hover-accent-color: rgba(147, 51, 234, 0.15); 
            --icon-color-light-purple: #b298dc; 
        }
        body {
            font-family: 'Lora', serif;
            background-color: var(--background-dark);
            color: var(--text-primary);
        }
        html { scroll-behavior: smooth; }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--background-dark); }
        ::-webkit-scrollbar-thumb { background-color: #581c87; border-radius: 8px; border: 2px solid var(--background-dark); }
        .main-container { max-width: 768px; }
        .lyrics-header h1 {
            font-family: 'Playfair Display', serif;
            color: var(--album-identity-color);
        }
        .lyrics-line {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: background-color 0.2s ease, color 0.2s ease;
            color: var(--text-secondary);
            font-size: 1.1rem;
            line-height: 1.8;
        }
        .lyrics-line:hover {
            background-color: var(--hover-accent-color);
            color: var(--text-primary);
        }
        .lyrics-line.active {
            background-color: var(--album-identity-color);
            color: #fff;
            font-weight: 600;
        }
        .verse-title {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 3rem;
            margin-bottom: 1rem;
        }
        #annotation-panel {
            background-color: var(--surface-color);
            border-left: 1px solid var(--border-color);
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            max-width: 550px;
            height: 100vh;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.5s ease;
            z-index: 50;
            font-family: 'Inter', sans-serif;
        }
        #annotation-panel.visible {
            transform: translateX(0);
            opacity: 1;
        }
        /* #panel-header-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--primary-accent-color);
        } */
        .annotation-content {
            font-size: 1.05rem;
            line-height: 1.7;
            color: var(--text-primary);
            overflow-y: auto; /* ADD: Allows this area to scroll if content is too long */
            flex-grow: 1;
        }
        .source-lyric {
            background-color: var(--album-identity-color);
            color: #fff;
            font-weight: 600;
        }
        
        .close-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            background-color: transparent;
            color: var(--icon-color-light-purple);
            transition: background-color 0.2s ease, color 0.2s ease;
        }
        .close-button:hover {
            background-color: var(--album-identity-color);
            color: #fff;
        }
        .close-button svg {
            width: 1rem;
            height: 1rem;
        }
        
        .back-button {
            position: fixed;
            top: 1.5rem;
            left: 1.5rem;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            background-color: rgba(32, 26, 40, 0.7);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            color: var(--icon-color-light-purple);
            transition: all 0.2s ease;
            border: 1px solid var(--border-color);
        }
        .back-button:hover {
            background-color: var(--album-identity-color);
            color: #fff;
            transform: scale(1.05);
        }
        .back-button svg {
            width: 1.5rem;
            height: 1.5rem;
        }

        .about-button-expand {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            height: 2.5rem;
            padding: 0 0.75rem;
            border-radius: 999px;
            background-color: transparent;
            color: var(--text-secondary);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
            overflow: hidden;
        }
        .about-button-text {
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            width: 0;
            transition: width 0.4s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.2s ease;
        }
        .about-button-expand:hover {
            background-color: var(--surface-color);
            color: var(--text-primary);
            border-color: var(--primary-accent-color);
        }
        .about-button-expand:hover .about-button-text {
            width: 50px;
            opacity: 1;
        }

        @media (max-width: 768px) {
            .lyrics-line { font-size: 1rem; line-height: 1.7; }
            #annotation-panel {
                top: auto;
                bottom: 0;
                width: 100%;
                max-width: 100%;
                height: 60vh;
                transform: translateY(100%);
                border-left: none;
                border-top: 1px solid var(--border-color);
                border-top-left-radius: 20px;
                border-top-right-radius: 20px;
            }
            #annotation-panel.visible { transform: translateY(0); }
            .back-button { top: 1rem; left: 1rem; width: 2.5rem; height: 2.5rem; }
            .back-button svg { width: 1.25rem; height: 1.25rem; }
            .song-title-header {
        flex-wrap: wrap;
    }

    /* 2. Make the title take up the entire first line. */
    .song-title-header h1 {
        width: 100%;
    }

    /* 3. Adjust the button, which is now on the second line. */
    .about-button-expand {
        margin-top: 0.75rem;
        margin-left: -0.75rem;
    }
    .main-container {
        padding-top: 5rem !important; /* Added !important to force the override */
    }
        }
    </style>
</head>
<body class="">
    <a href="index.html" class="back-button" aria-label="Back to main page">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
        </svg>
    </a>
        
    <div class="main-container px-6 py-12 md:px-12 md:py-24">
        <header class="lyrics-header mb-12">
            <div class="flex items-center gap-4 song-title-header">
                <h1 class="text-5xl md:text-6xl font-bold mb-0">confused</h1>
                <button id="about-song-button" class="about-button-expand" aria-label="About this song">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
                    </svg>
                    <span class="about-button-text">About</span>
                </button>
            </div>
            <h2 class="text-xl text-gray-400 mt-2">Annotated Lyrics</h2>
        </header>

        <section id="lyrics-content">
            <h3 class="verse-title">Verse 1</h3>
            <div id="lyrics-v1" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="v1-group-1">likhiyan de swagat nu laike mai thoda jazbaati aa</p>
                <p class="lyrics-line" data-annotation-id="v1-group-1">sabha dave samman jekar sun geet ohda dhanwaadi aa</p>
                <p class="lyrics-line" data-annotation-id="v1-group-2">rochak aatam katha howe tan nibhdi aapasdaari aa</p>
                <p class="lyrics-line" data-annotation-id="v1-group-2">ragarhe kala shalagha naal tan uthdi ik chingaari aa</p>
                <p class="lyrics-line" data-annotation-id="v1-group-3">ohi tapaahat geetan zariye mai vi thodi khoj reha</p>
                <p class="lyrics-line" data-annotation-id="v1-group-3">armaanan de kaatil nu sankhepâ€™ch ehna bol reha</p>
                <p class="lyrics-line" data-annotation-id="v1-group-4">ki bin tere vi kadar paini jdon vikne mere geet kude</p>
                <p class="lyrics-line" data-annotation-id="v1-group-4">behtar karun bhawikh aidan ke tarsugi ateet nu ve</p>
            </div>
            
            <h3 class="verse-title">Hook</h3>
            <div id="lyrics-hook-1" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="hook-group-1">fuck her, te fuck you</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">kalam di nokh te subdue karan sab nu</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">karan spit flows</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">front seat aale dikhde ne confused [x5]</p>
            </div>

            <h3 class="verse-title">Post-Hook</h3>
            <div id="lyrics-post-hook" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="phook-group-1">shishe te likhe eh lafzan te tere alaawa kisi di paindi na nazar</p>
                <p class="lyrics-line" data-annotation-id="phook-group-2">kisi kareebi nu mili je jhalak tan ki pata ohte ki painda aa asar</p>
                <p class="lyrics-line" data-annotation-id="phook-group-3">guernica tan lagda aa tenu par jo disse horan nu ohdeâ€™ch oo tenu ki pata?</p>
                <p class="lyrics-line" data-annotation-id="phook-group-4">tenu jo jappda aa dungha vadde tairaaki maar gote dassan ohnu khedan</p>
            </div>

            <h3 class="verse-title">Verse 2</h3>
            <div id="lyrics-v2" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="v2-group-1">likhan mai aidan ve moddhe te jiddan ne chips te mai haula koi karna aa bhaar</p>
                <p class="lyrics-line" data-annotation-id="v2-group-2">karan na tedha hath sama aa reta jo pharhe ne pal vason niklan na baahar</p>
                <p class="lyrics-line" data-annotation-id="v2-group-3">je bharan na tepaan eh duniyan kyun jhelan eh ikko zameen jihte tikkni dukaan</p>
                <p class="lyrics-line" data-annotation-id="v2-group-4">kisse sametan te khrind khuredan gwaake sihayi mai pauna sansaar</p>
                <p class="lyrics-line" data-annotation-id="v2-group-5">ki kaabil os mukaam de pairhaan tureya jithe jaa reha</p>
                <p class="lyrics-line" data-annotation-id="v2-group-6">yan chand siftaan de chaah vich Kaushal khud nu bhatka reha</p>
                <p class="lyrics-line" data-annotation-id="v2-group-7">rehenda khunda bacheya mere kol par aahi daaw kude</p>
                <p class="lyrics-line" data-annotation-id="v2-group-7">tenu saabat karn layi vi mehenga sada daam kude par</p>
            </div>
            
            <h3 class="verse-title">Hook</h3>
            <div id="lyrics-hook-2" class="space-y-1">
                <p class="lyrics-line" data-annotation-id="hook-group-1">fuck her, te fuck you</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">kalam di nokh te subdue karan sab nu</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">karan spit flows</p>
                <p class="lyrics-line" data-annotation-id="hook-group-1">front seat aale dikhde ne confused [x5]</p>
            </div>
        </section>
    </div>

    <aside id="annotation-panel" class="flex flex-col">
        <header class="p-4 border-b flex items-center justify-between" style="border-color: var(--border-color);">
            <div id="panel-header-content" class="flex-grow mr-4">
            </div>
            <button id="close-annotation" class="close-button flex-shrink-0">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </header>
        <div id="annotation-content-area" class="annotation-content">
        </div>
    </aside>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
             const annotations = { "v1-group-1": "Anshul confesses he is 'a little emotional about the welcome his writings receive,' revealing his vulnerability and deep investment in his art. He then states he would be 'grateful if the audience gave respect when they heard his song,' showing his yearning for genuine appreciation for his work, rather than just applause.", "v1-group-2": "He suggests that a lasting relationship with the audience is built on a compelling 'autobiography.' He adds that when 'art is rubbed with praise, a spark ignites,' highlighting how true artistic appreciation and validation can fuel creativity.", "v1-group-3": "Anshul states he is 'searching for that same warmth' and confesses he is 'briefly addressing the murderer of his aspirations.' This points to an internal conflict where something has stifled his dreams, which he seeks to overcome through his art.", "v1-group-4": "He pointedly addresses Ganga, defiantly declaring his songs will gain worth 'even without you.' He vows to make his future so much better that she will 'yearn for the past,' transforming his personal hurt into a powerful drive for success and vindication.", "hook-group-1": "This is a raw, defiant torrent of emotion: 'f--k her, and f--k you.' The 'her' is a rejection of Ganga, while the 'you' is a broader defiance of critics and doubters. He asserts his power, stating that his 'pen will subdue everyone,' and that his aggressive 'spit flows' leave his immediate audience 'confused,' proving the potency of his art and validating his unique perspective.", "phook-group-1": "Anshul states that 'on these words written on the mirror, no one's eye falls except yours (his own).' This signifies a deeply private moment of self-confrontation, where he is writing about himself directly onto his own reflection. It underscores that his art is a private outlet rather than a public release.", "phook-group-2": "He then ponders the effect his private art would have if 'a glimpse of it is seen by someone close.' This reveals his vulnerability about sharing his raw, introspective work and his fear of facing external reactions to his most authentic expressions.", "phook-group-3": "Anshul challenges his own perception, asking himself, 'it seems like Guernica to you... but what others see in it, what do you know about that?' This reveals his profound self-doubt about whether others will perceive the same greatness or depth in his work that he does.", "phook-group-4": "He delivers a dismissive intellectual blow to his own self-perception, stating that 'what appears deep to you, experienced swimmers say it's just a game.' This metaphor implies that his understanding of his own 'depth' is superficial and feeds into his internal confusion about the true nature of his art.", "v2-group-1": "Anshul states he writes as if he has 'chips on my shoulder' to 'lighten a burden.' This reveals his writing as a cathartic release for deep-seated grievances and emotional weight, transforming his personal struggles into creative expression.", "v2-group-2": "He states he holds his hand straight so that time 'doesn't slip from his control,' showing his dedication to his craft. This contrasts with his laziness and inaction mentioned in other songs, highlighting a core internal struggle with self-sabotage.", "v2-group-3": "Anshul poses a profound and existential question: 'if I don't fill these tapes (with music), why should I endure this world?' This powerfully suggests that his existence and future are solely tied to his music, which serves as his lifeline and primary source of sanity.", "v2-group-4": "He states he 'collects stories and scratches his scab,' metaphorically opening old wounds to 'gain the world.' This frames his writing as a visceral and sacrificial act of creation where he confronts his deepest pains to achieve public recognition.", "v2-group-5": "Anshul questions his own worthiness: 'Am I worthy of the destination towards which I am heading?' This reveals a profound self-doubt about deserving his ultimate goal and contributes to his feelings of inadequacy and his overall 'confused' state.", "v2-group-6": "He asks if he is 'misleading himself in the desire for a few praises.' This exposes his fear that his artistic pursuit is not a noble quest but a self-deceptive chase for superficial external validation.", "v2-group-7": "Anshul, directly addressing Ganga, admits he is 'only left with this gamble' to 'prove his high worth to her.' This reveals his ongoing struggle to move on from their past relationship, as her validation remains a central motivation for his art." };
            
            const aboutSongButton = document.getElementById('about-song-button');
            const lyricsLines = document.querySelectorAll('.lyrics-line');
            const annotationPanel = document.getElementById('annotation-panel');
            const panelHeaderContent = document.getElementById('panel-header-content');
            const annotationContentArea = document.getElementById('annotation-content-area');
            const closeButton = document.getElementById('close-annotation');
            let activeAnnotationId = null;
            let currentPanelState = null;

            const aboutSongText = `
                <p class="mb-4">"confused" is a volatile track that operates on two fronts. Outwardly, it's a high-stakes bet against the ghosts of the pastâ€”a defiant "fuck you" and a promise to "subdue everyone" with the tip of his pen. Anshul is "scratching his scab" and "losing ink" to build a future so much better that his ex will "yearn for the past". But inwardly, it's a raw confession of deep insecurity, as he questions if he's truly "worthy of the destination". Itâ€™s a rare glimpse into an artist terrified of being misunderstood, whose raw intensity leaves his audience, and himself, in a state of beautiful confusion.</p>
            `;

            function showAboutContent() {
                panelHeaderContent.innerHTML = `<h2 id="panel-header-title">About 'confused'</h2>`;
                annotationContentArea.innerHTML = `<div class="p-6">${aboutSongText}</div>`;
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                    activeAnnotationId = null;
                }
                currentPanelState = 'about';
                annotationPanel.classList.add('visible');
            }

            function showAnnotationContent(lineElement) {
                const annotationId = lineElement.getAttribute('data-annotation-id');
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                }
                document.querySelectorAll(`[data-annotation-id='${annotationId}']`).forEach(el => el.classList.add('active'));
                activeAnnotationId = annotationId;

                const annotationText = annotations[annotationId] || "No annotation for this line.";
                const groupElements = lineElement.parentElement.querySelectorAll(`[data-annotation-id='${annotationId}']`);
                const sourceText = Array.from(groupElements).map(el => el.innerHTML).join('<br>');

                panelHeaderContent.innerHTML = `<p class="source-lyric p-3 rounded-lg text-sm">${sourceText}</p>`;
                annotationContentArea.innerHTML = `<div class="p-6">${annotationText}</div>`;
                currentPanelState = 'annotation';
                annotationPanel.classList.add('visible');
            }

            function closeAnnotationPanel() {
                if (activeAnnotationId) {
                    document.querySelectorAll(`[data-annotation-id='${activeAnnotationId}'].active`).forEach(el => el.classList.remove('active'));
                    activeAnnotationId = null;
                }
                annotationPanel.classList.remove('visible');
                currentPanelState = null;
            }

            aboutSongButton.addEventListener('click', (e) => {
                e.stopPropagation();
                if (annotationPanel.classList.contains('visible') && currentPanelState === 'about') {
                    closeAnnotationPanel();
                } else {
                    showAboutContent();
                }
            });

            lyricsLines.forEach(line => {
                line.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const clickedAnnotationId = line.getAttribute('data-annotation-id');
                    if (clickedAnnotationId === activeAnnotationId) {
                        closeAnnotationPanel();
                    } else {
                        showAnnotationContent(line);
                    }
                });
            });

            closeButton.addEventListener('click', (e) => {
                e.stopPropagation();
                closeAnnotationPanel();
            });

            document.body.addEventListener('click', (e) => {
                if (annotationPanel.classList.contains('visible') && !annotationPanel.contains(e.target) && !aboutSongButton.contains(e.target)) {
                    closeAnnotationPanel();
                }
            });
        });
    </script>
</body>
</html>
